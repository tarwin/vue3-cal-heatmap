{"version":3,"file":"vue3-cal-heatmap.umd.js","sources":["../src/components/Heatmap.ts","../src/components/CalendarHeatmap.vue","../src/index.ts"],"sourcesContent":["export interface Value {\n  date: Date | string;\n  count: number;\n}\n\nexport interface Activity {\n  count: number;\n  colorIndex: number;\n}\n\nexport type Activities = Map<string, Activity>;\n\nexport interface CalendarItem {\n  date: Date;\n  count?: number;\n  colorIndex: number;\n}\n\nexport type Calendar = CalendarItem[][];\n\nexport interface Month {\n  value: number;\n  index: number;\n}\n\nexport interface Locale {\n  months: string[];\n  days: string[];\n  on: string;\n  less: string;\n  more: string;\n}\n\nexport type TooltipFormatter = (item: CalendarItem, unit: string) => string;\n\nexport type ColorScaleType = 'linear' | 'percentile' | 'logarithmic';\n\nexport class Heatmap {\n  static readonly DEFAULT_RANGE_COLOR_LIGHT = [\n    \"#ebedf0\",\n    \"#dae2ef\",\n    \"#c0ddf9\",\n    \"#73b3f3\",\n    \"#3886e1\",\n    \"#17459e\",\n  ];\n  static readonly DEFAULT_RANGE_COLOR_DARK = [\n    \"#1f1f22\",\n    \"#1e334a\",\n    \"#1d466c\",\n    \"#1d5689\",\n    \"#1d69ac\",\n    \"#1B95D1\",\n  ];\n  // other color candidates\n  // static readonly DEFAULT_RANGE_COLOR_LIGHT = [ '#ebedf0', '#9be9a8', '#40c463', '#30a14e', '#216e39' ];\n  // static readonly DEFAULT_RANGE_COLOR_DARK  = [ '#161b22', '#0e4429', '#006d32', '#26a641', '#39d353' ];\n  // static readonly DEFAULT_RANGE_COLOR_DARK    = [ '#011526', '#012E40', '#025959', '#02735E', '#038C65' ];\n  // static readonly DEFAULT_RANGE_COLOR_DARK    = [ '#161b22', '#015958', '#008F8C', '#0CABA8', '#0FC2C0' ];\n  // static readonly DEFAULT_RANGE_COLOR_DARK    = [ '#012030', '#13678A', '#45C4B0', '#9AEBA3', '#DAFDBA' ];\n  static readonly DEFAULT_LOCALE: Locale = {\n    months: [\n      \"Jan\",\n      \"Feb\",\n      \"Mar\",\n      \"Apr\",\n      \"May\",\n      \"Jun\",\n      \"Jul\",\n      \"Aug\",\n      \"Sep\",\n      \"Oct\",\n      \"Nov\",\n      \"Dec\",\n    ],\n    days: [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\n    on: \"on\",\n    less: \"Less\",\n    more: \"More\",\n  };\n  static readonly DEFAULT_TOOLTIP_UNIT = \"contributions\";\n  static readonly DAYS_IN_ONE_YEAR = 365;\n  static readonly DAYS_IN_WEEK = 7;\n  static readonly SQUARE_SIZE = 10;\n\n  startDate: Date;\n  endDate: Date;\n  startWeekday: number;\n  max: number;\n  colorRange: string[];\n\n  private _values: Value[];\n  private _firstFullWeekOfMonths?: Month[];\n  private _activities?: Activities;\n  private _calendar?: Calendar;\n\n  colorScale: ColorScaleType;\n  private _percentileThresholds?: number[];\n\n  constructor(\n    endDate: Date | string,\n    values: Value[],\n    max?: number,\n    colorRange: string[] = Heatmap.DEFAULT_RANGE_COLOR_LIGHT,\n    startWeekday: number = 0,\n    colorScale: ColorScaleType = 'linear'\n  ) {\n    this.endDate = this.parseDate(endDate);\n    this.max =\n      max || Math.ceil((Math.max(...values.map((day) => day.count)) / 5) * 4);\n    this.startWeekday  = startWeekday;\n    this.colorRange = colorRange;\n    this.colorScale = colorScale;\n    this.startDate = this.shiftDate(endDate, -Heatmap.DAYS_IN_ONE_YEAR);\n    this._values = values;\n  }\n\n  set values(v: Value[]) {\n    this.max = Math.ceil((Math.max(...v.map((day) => day.count)) / 5) * 4);\n    this._values = v;\n    this._firstFullWeekOfMonths = undefined;\n    this._calendar = undefined;\n    this._activities = undefined;\n    this._percentileThresholds = undefined;\n  }\n\n  get values(): Value[] {\n    return this._values;\n  }\n\n  get activities(): Activities {\n    if (!this._activities) {\n      this._activities = new Map();\n      for (let i = 0, len = this.values.length; i < len; i++) {\n        this._activities.set(this.keyDayParser(this.values[i].date), {\n          count: this.values[i].count,\n          colorIndex: this.getColorIndex(this.values[i].count),\n        });\n      }\n    }\n    return this._activities;\n  }\n\n  get weekCount() {\n    return this.getDaysCount() / Heatmap.DAYS_IN_WEEK;\n  }\n\n  get calendar() {\n    if (!this._calendar) {\n      let date = this.shiftDate(\n        this.startDate,\n        -this.getCountEmptyDaysAtStart()\n      );\n      date = new Date(date.getFullYear(), date.getMonth(), date.getDate());\n      this._calendar = new Array(this.weekCount);\n      for (let i = 0, len = this._calendar.length; i < len; i++) {\n        this._calendar[i] = new Array(Heatmap.DAYS_IN_WEEK);\n        for (let j = 0; j < Heatmap.DAYS_IN_WEEK; j++) {\n          const dayValues = this.activities.get(this.keyDayParser(date));\n          this._calendar![i][j] = {\n            date: new Date(date.valueOf()),\n            count: dayValues ? dayValues.count : undefined,\n            colorIndex: dayValues ? dayValues.colorIndex : 0,\n          };\n          date.setDate(date.getDate() + 1);\n        }\n      }\n    }\n    return this._calendar;\n  }\n\n  get firstFullWeekOfMonths(): Month[] {\n    if (!this._firstFullWeekOfMonths) {\n      const cal = this.calendar;\n      this._firstFullWeekOfMonths = [];\n      for (let index = 1, len = cal.length; index < len; index++) {\n        const lastWeek = cal[index - 1][0].date,\n          currentWeek = cal[index][0].date;\n        if (\n          lastWeek.getFullYear() < currentWeek.getFullYear() ||\n          lastWeek.getMonth() < currentWeek.getMonth()\n        ) {\n          this._firstFullWeekOfMonths.push({\n            value: currentWeek.getMonth(),\n            index,\n          });\n        }\n      }\n    }\n    return this._firstFullWeekOfMonths;\n  }\n\n  getCountEmptyDaysAtStart() {\n    return this.startDate.getDay();\n  }\n\n  getDayOfWeek(day: Date) {\n    return (day.getDay() - this.startWeekday + Heatmap.DAYS_IN_WEEK) % Heatmap.DAYS_IN_WEEK;\n  }\n\n  getCountEmptyDaysAtEnd() {\n    return Heatmap.DAYS_IN_WEEK - 1 - this.endDate.getDay();\n  }\n\n  getDaysCount() {\n    return (\n      Heatmap.DAYS_IN_ONE_YEAR +\n      1 +\n      this.getCountEmptyDaysAtStart() +\n      this.getCountEmptyDaysAtEnd()\n    );\n  }\n\n  private shiftDate(date: Date | string, numDays: number) {\n    const newDate = new Date(date);\n    newDate.setDate(newDate.getDate() + numDays);\n    return newDate;\n  }\n\n  private parseDate(entry: Date | string) {\n    return entry instanceof Date ? entry : new Date(entry);\n  }\n\n  private keyDayParser(date: Date | string) {\n    const day = this.parseDate(date);\n    return (\n      String(day.getFullYear()) +\n      String(day.getMonth()).padStart(2, \"0\") +\n      String(day.getDate()).padStart(2, \"0\")\n    );\n  }\n\n  private get percentileThresholds(): number[] {\n    if (!this._percentileThresholds) {\n      const counts = this._values\n        .map(v => v.count)\n        .filter(c => c > 0)\n        .sort((a, b) => a - b);\n      \n      if (counts.length === 0) {\n        this._percentileThresholds = [];\n        return this._percentileThresholds;\n      }\n\n      const numBuckets = this.colorRange.length - 1; // exclude \"no data\" color\n      this._percentileThresholds = [];\n      \n      for (let i = 1; i < numBuckets; i++) {\n        const percentile = i / numBuckets;\n        const index = Math.floor(percentile * counts.length);\n        this._percentileThresholds.push(counts[Math.min(index, counts.length - 1)]);\n      }\n    }\n    return this._percentileThresholds;\n  }\n\n  // getColorIndex(count?: number) {\n  //   if (count === null || count === undefined) {\n  //     return 0;\n  //   } else if (count <= 0) {\n  //     return 1;\n\t// \t} else if (count >= this.max) { // TODO max range exclusive flag\n\t// \t\treturn this.colorRange.length - 1;\n  //   } else {\n  //     // Old way of calculating colorIndex\n  //     // return Math.ceil(((count * 100) / this.max) * 0.03) + 1;\n\n  //     const percentage = ((count * 100) / this.max)  / 100;\n  //     const colorIndex = Math.floor(percentage * (this.colorRange.length - 2)) + 1;\n  //     return colorIndex;\n  //   }\n  // }\n\n  getColorIndex(count?: number) {\n    if (count === null || count === undefined) {\n      return 0;\n    } else if (count <= 0) {\n      return 1;\n    } else if (count >= this.max) {\n      return this.colorRange.length - 1;\n    }\n\n    switch (this.colorScale) {\n      case 'percentile':\n        return this.getPercentileColorIndex(count);\n      case 'logarithmic':\n        return this.getLogarithmicColorIndex(count);\n      default:\n        return this.getLinearColorIndex(count);\n    }\n  }\n\n  private getLinearColorIndex(count: number): number {\n    const percentage = count / this.max;\n    return Math.floor(percentage * (this.colorRange.length - 2)) + 1;\n  }\n\n  private getPercentileColorIndex(count: number): number {\n    const thresholds = this.percentileThresholds;\n    if (thresholds.length === 0) return 1;\n    \n    for (let i = 0; i < thresholds.length; i++) {\n      if (count <= thresholds[i]) {\n        return i + 1;\n      }\n    }\n    return this.colorRange.length - 1;\n  }\n\n  private getLogarithmicColorIndex(count: number): number {\n    const logCount = Math.log(count + 1);\n    const logMax = Math.log(this.max + 1);\n    const percentage = logCount / logMax;\n    return Math.floor(percentage * (this.colorRange.length - 2)) + 1;\n  }\n}\n","<script lang=\"ts\">\nimport {\n  defineComponent,\n  nextTick,\n  onBeforeUnmount,\n  onMounted,\n  PropType,\n  ref,\n  toRef,\n  toRefs,\n  watch,\n} from \"vue\";\nimport {\n  CalendarItem,\n  Heatmap,\n  Locale,\n  Month,\n  TooltipFormatter,\n  Value,\n  ColorScaleType,\n} from \"@/components/Heatmap\";\nimport tippy, {\n  createSingleton,\n  CreateSingletonInstance,\n  Instance,\n} from \"tippy.js\";\nimport \"tippy.js/dist/tippy.css\";\nimport \"tippy.js/dist/svg-arrow.css\";\n\nexport default /*#__PURE__*/ defineComponent({\n  name: \"CalendarHeatmap\",\n  props: {\n    endDate: {\n      required: true,\n    },\n    startWeekday: {\n      type: Number,\n      default: 0, // 0 for Sunday, 1 for Monday, etc.\n    },\n    max: {\n      type: Number,\n    },\n    rangeColor: {\n      type: Array as PropType<string[]>,\n    },\n    values: {\n      type: Array as PropType<Value[]>,\n      required: true,\n    },\n    locale: {\n      type: Object as PropType<Partial<Locale>>,\n    },\n    tooltip: {\n      type: Boolean,\n      default: true,\n    },\n    tooltipUnit: {\n      type: String,\n      default: Heatmap.DEFAULT_TOOLTIP_UNIT,\n    },\n    tooltipFormatter: {\n      type: Function as PropType<TooltipFormatter>,\n    },\n    noDataText: {\n      type: [Boolean, String],\n      default: null,\n    },\n    round: {\n      type: Number,\n      default: 0,\n    },\n    darkMode: Boolean,\n    showLegend: {\n      type: Boolean,\n      default: true,\n    },\n    showWeekdays: {\n      type: Boolean,\n      default: true,\n    },\n    asDots: {\n      type: Boolean,\n      default: false,\n    },\n    dayClasses: {\n      type: [String, Array] as PropType<string | string[]>,\n      default: \"\",\n    },\n    colorScale: {\n      type: String as PropType<ColorScaleType>,\n      default: 'linear',\n    },\n  },\n  emits: [\"dayClick\"],\n  setup(props) {\n    const SQUARE_BORDER_SIZE = Heatmap.SQUARE_SIZE / 5,\n      SQUARE_SIZE = Heatmap.SQUARE_SIZE + SQUARE_BORDER_SIZE,\n      LEFT_SECTION_WIDTH = props.showWeekdays\n        ? Math.ceil(Heatmap.SQUARE_SIZE * 2.5)\n        : 0,\n      RIGHT_SECTION_WIDTH = SQUARE_SIZE * 3,\n      TOP_SECTION_HEIGHT = Heatmap.SQUARE_SIZE + Heatmap.SQUARE_SIZE / 2,\n      BOTTOM_SECTION_HEIGHT = Heatmap.SQUARE_SIZE + Heatmap.SQUARE_SIZE / 2,\n      yearWrapperTransform = `translate(${LEFT_SECTION_WIDTH}, ${TOP_SECTION_HEIGHT})`,\n      svg = ref<null | SVGElement>(null),\n      now = ref(new Date()),\n      heatmap = ref(\n        new Heatmap(\n          props.endDate as Date,\n          props.values,\n          props.max,\n          props.rangeColor,\n          props.startWeekday,\n          props.colorScale\n        )\n      ),\n      width = ref(0),\n      height = ref(0),\n      viewbox = ref(\"0 0 0 0\"),\n      legendViewbox = ref(\"0 0 0 0\"),\n      daysLabelWrapperTransform = ref(\"\"),\n      monthsLabelWrapperTransform = ref(\"\"),\n      legendWrapperTransform = ref(\"\"),\n      lo = ref<Locale>({} as any),\n      rangeColor = ref<string[]>(\n        props.rangeColor ||\n          (props.darkMode\n            ? Heatmap.DEFAULT_RANGE_COLOR_DARK\n            : Heatmap.DEFAULT_RANGE_COLOR_LIGHT)\n      );\n    const DAYS_IN_WEEK = Heatmap.DAYS_IN_WEEK;\n\n    const rounding = ref(props.round);\n\n    if (props.asDots) {\n      rounding.value = 20;\n    }\n\n    const { values, tooltipUnit, tooltipFormatter, noDataText, max, locale } =\n        toRefs(props),\n      tippyInstances = new Map<HTMLElement, Instance>();\n\n    let tippySingleton: CreateSingletonInstance;\n\n    function initTippy() {\n      tippyInstances.clear();\n      if (tippySingleton) {\n        tippySingleton.setInstances(Array.from(tippyInstances.values()));\n      } else {\n        tippySingleton = createSingleton(Array.from(tippyInstances.values()), {\n          overrides: [],\n          moveTransition: \"transform 0.1s ease-out\",\n          allowHTML: true,\n        });\n      }\n    }\n\n    function tooltipOptions(day: CalendarItem) {\n      if (props.tooltip) {\n        if (day.count !== undefined) {\n          if (props.tooltipFormatter) {\n            return props.tooltipFormatter(day, props.tooltipUnit!);\n          }\n          return `<b>${day.count} ${props.tooltipUnit}</b> ${lo.value.on} ${\n            lo.value.months[day.date.getMonth()]\n          } ${day.date.getDate()}, ${day.date.getFullYear()}`;\n        } else if (props.noDataText) {\n          return `${props.noDataText}`;\n        } else if (props.noDataText !== false) {\n          return `<b>No ${props.tooltipUnit}</b> ${lo.value.on} ${\n            lo.value.months[day.date.getMonth()]\n          } ${day.date.getDate()}, ${day.date.getFullYear()}`;\n        }\n      }\n      return undefined;\n    }\n\n    function getWeekPosition(index: number) {\n      return `translate(${index * SQUARE_SIZE}, 0)`;\n    }\n\n    function getDayPosition(index: number) {\n      return `translate(0, ${index * SQUARE_SIZE})`;\n    }\n\n    function getMonthLabelPosition(month: Month) {\n      return {\n        x: SQUARE_SIZE * (month.index - 1),\n        y: SQUARE_SIZE - SQUARE_BORDER_SIZE,\n      };\n    }\n\n    watch(\n      [toRef(props, \"rangeColor\"), toRef(props, \"darkMode\")],\n      ([rc, dm]) => {\n        rangeColor.value =\n          rc ||\n          (dm\n            ? Heatmap.DEFAULT_RANGE_COLOR_DARK\n            : Heatmap.DEFAULT_RANGE_COLOR_LIGHT);\n      }\n    );\n\n    width.value =\n      LEFT_SECTION_WIDTH +\n      SQUARE_SIZE * heatmap.value.weekCount +\n      SQUARE_BORDER_SIZE;\n    height.value = TOP_SECTION_HEIGHT + SQUARE_SIZE * Heatmap.DAYS_IN_WEEK;\n    daysLabelWrapperTransform.value = `translate(0, ${TOP_SECTION_HEIGHT})`;\n    monthsLabelWrapperTransform.value = `translate(${LEFT_SECTION_WIDTH}, 0)`;\n\n    watch([width, height], ([w, h]) => (viewbox.value = ` 0 0 ${w} ${h}`), {\n      immediate: true,\n    });\n    watch(\n      [width, height, rangeColor],\n      ([w, h, rc]) => {\n        legendWrapperTransform.value = `translate(${\n          w - SQUARE_SIZE * rc.length - 30\n        }, ${h - BOTTOM_SECTION_HEIGHT})`;\n      },\n      { immediate: true }\n    );\n\n    watch(\n      locale,\n      (l) =>\n        (lo.value = l\n          ? { ...Heatmap.DEFAULT_LOCALE, ...l }\n          : Heatmap.DEFAULT_LOCALE),\n      { immediate: true }\n    );\n    watch(\n      rangeColor,\n      (rc) =>\n        (legendViewbox.value = `0 0 ${Heatmap.SQUARE_SIZE * (rc.length + 1)} ${\n          Heatmap.SQUARE_SIZE\n        }`),\n      { immediate: true }\n    );\n\n    watch(\n      [values, tooltipUnit, tooltipFormatter, noDataText, max, rangeColor],\n      () => {\n        heatmap.value = new Heatmap(\n          props.endDate as Date,\n          props.values,\n          props.max\n        );\n        tippyInstances.forEach((item) => item.destroy());\n        nextTick(initTippy);\n      }\n    );\n\n    onMounted(initTippy);\n    onBeforeUnmount(() => {\n      tippySingleton?.destroy();\n      tippyInstances.forEach((item) => item.destroy());\n    });\n\n    function initTippyLazy(e: MouseEvent) {\n      if (\n        tippySingleton &&\n        e.target &&\n        (e.target as HTMLElement).classList.contains(\"vch__day__square\") &&\n        (e.target as HTMLElement).dataset.weekIndex !== undefined &&\n        (e.target as HTMLElement).dataset.dayIndex !== undefined\n      ) {\n        const weekIndex = Number((e.target as HTMLElement).dataset.weekIndex),\n          dayIndex = Number((e.target as HTMLElement).dataset.dayIndex);\n\n        if (!isNaN(weekIndex) && !isNaN(dayIndex)) {\n          const tooltip = tooltipOptions(\n            heatmap.value.calendar[weekIndex][dayIndex]\n          );\n          if (tooltip && heatmap.value.calendar[weekIndex][dayIndex].count) {\n            const instance = tippyInstances.get(e.target as HTMLElement);\n\n            if (instance) {\n              instance.setContent(tooltip);\n            } else if (!instance) {\n              tippyInstances.set(\n                e.target as HTMLElement,\n                tippy(e.target as HTMLElement, { content: tooltip } as any)\n              );\n              tippySingleton.setInstances(Array.from(tippyInstances.values()));\n            }\n          }\n        }\n      }\n    }\n\n    return {\n      SQUARE_BORDER_SIZE,\n      SQUARE_SIZE,\n      DAYS_IN_WEEK,\n      LEFT_SECTION_WIDTH,\n      RIGHT_SECTION_WIDTH,\n      TOP_SECTION_HEIGHT,\n      BOTTOM_SECTION_HEIGHT,\n      svg,\n      heatmap,\n      now,\n      width,\n      height,\n      viewbox,\n      daysLabelWrapperTransform,\n      monthsLabelWrapperTransform,\n      yearWrapperTransform,\n      legendWrapperTransform,\n      lo,\n      legendViewbox,\n      curRangeColor: rangeColor,\n      getWeekPosition,\n      getDayPosition,\n      getMonthLabelPosition,\n      initTippyLazy,\n      rounding,\n      asDots: props.asDots,\n    };\n  },\n});\n</script>\n\n<template>\n  <div :class=\"{ vch__container: true, 'dark-mode': darkMode }\">\n    <svg class=\"vch__wrapper\" ref=\"svg\" :viewBox=\"viewbox\">\n      <g\n        class=\"vch__months__labels__wrapper\"\n        :transform=\"monthsLabelWrapperTransform\"\n      >\n        <text\n          class=\"vch__month__label\"\n          v-for=\"(month, index) in heatmap.firstFullWeekOfMonths\"\n          :key=\"index\"\n          :x=\"getMonthLabelPosition(month).x\"\n          :y=\"getMonthLabelPosition(month).y\"\n        >\n          {{ lo.months[month.value] }}\n        </text>\n      </g>\n\n      <g\n        class=\"vch__days__labels__wrapper\"\n        :transform=\"daysLabelWrapperTransform\"\n        v-if=\"showWeekdays\"\n      >\n        <template v-for=\"i in [0, 1, 2, 3, 4, 5, 6]\">\n\t\t\t\t  <text\n            class=\"vch__day__label\"\n            :key=\"i\"\n            v-if=\"(i + startWeekday) % 2 == 1\"\n\t\t\t\t\t  :x=\"0\"\n\t\t\t\t\t  :y=\"((SQUARE_SIZE - SQUARE_BORDER_SIZE) + SQUARE_SIZE * i)\"\n\t\t\t\t  >\n\t\t\t\t\t{{ lo.days[ (i + startWeekday) % DAYS_IN_WEEK ] }}\n\t\t\t\t  </text>\n        </template>\n      </g>\n\n      <g\n        class=\"vch__year__wrapper\"\n        :transform=\"yearWrapperTransform\"\n        @mouseover=\"initTippyLazy\"\n      >\n        <g\n          class=\"vch__month__wrapper\"\n          v-for=\"(week, weekIndex) in heatmap.calendar\"\n          :key=\"weekIndex\"\n          :transform=\"getWeekPosition(weekIndex)\"\n        >\n          <template v-for=\"(day, dayIndex) in week\" :key=\"dayIndex\">\n            <rect\n              class=\"vch__day__square\"\n              :class=\"dayClasses\"\n              v-if=\"day.date < now\"\n              :rx=\"rounding\"\n              :ry=\"rounding\"\n              :transform=\"getDayPosition(dayIndex)\"\n              :width=\"SQUARE_SIZE - SQUARE_BORDER_SIZE\"\n              :height=\"SQUARE_SIZE - SQUARE_BORDER_SIZE\"\n              :style=\"{ fill: curRangeColor[day.colorIndex] }\"\n              :data-week-index=\"weekIndex\"\n              :data-day-index=\"dayIndex\"\n              @click=\"$emit('dayClick', day)\"\n            />\n          </template>\n        </g>\n      </g>\n    </svg>\n    <div class=\"vch__legend\" v-if=\"showLegend\">\n      <slot name=\"legend\">\n        <div class=\"vch__legend-left\">\n          <slot name=\"vch__legend-left\"></slot>\n        </div>\n        <div class=\"vch__legend-right\">\n          <slot name=\"legend-right\">\n            <div class=\"vch__legend\">\n              <div>{{ lo.less }}</div>\n              <svg\n                class=\"vch__external-legend-wrapper\"\n                :viewBox=\"legendViewbox\"\n                :height=\"SQUARE_SIZE - SQUARE_BORDER_SIZE\"\n              >\n                <g class=\"vch__legend__wrapper\">\n                  <rect\n                    v-for=\"(color, index) in curRangeColor\"\n                    :key=\"index\"\n                    :rx=\"rounding\"\n                    :ry=\"rounding\"\n                    :style=\"{ fill: color }\"\n                    :width=\"SQUARE_SIZE - SQUARE_BORDER_SIZE\"\n                    :height=\"SQUARE_SIZE - SQUARE_BORDER_SIZE\"\n                    :x=\"SQUARE_SIZE * index\"\n                  />\n                </g>\n              </svg>\n              <div>{{ lo.more }}</div>\n            </div>\n          </slot>\n        </div>\n      </slot>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\">\n.vch__container {\n  .vch__legend {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  .vch__external-legend-wrapper {\n    margin: 0 8px;\n  }\n}\n\nsvg.vch__wrapper {\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen,\n    Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif;\n  line-height: 10px;\n  width: 100%;\n\n  .vch__months__labels__wrapper text.vch__month__label {\n    font-size: 10px;\n  }\n\n  .vch__days__labels__wrapper text.vch__day__label,\n  .vch__legend__wrapper text {\n    font-size: 9px;\n  }\n\n  text.vch__month__label,\n  text.vch__day__label,\n  .vch__legend__wrapper text {\n    fill: #767676;\n  }\n\n  rect.vch__day__square:focus {\n    outline: none;\n  }\n\n  &.dark-mode {\n    text.vch__month__label,\n    text.vch__day__label,\n    .vch__legend__wrapper text {\n      fill: #fff;\n    }\n  }\n}\n</style>\n","import { App } from \"vue\";\nimport CalendarHeatmap from \"@/components/CalendarHeatmap.vue\";\n\nfunction install(Vue: App) {\n  Vue.component(CalendarHeatmap.name!, CalendarHeatmap);\n}\n\nexport default { install };\nexport * from \"@/components/Heatmap\";\nexport { default as CalendarHeatmap } from \"@/components/CalendarHeatmap.vue\";\n"],"names":["_Heatmap","endDate","values","max","colorRange","startWeekday","colorScale","__publicField","day","v","i","len","date","j","dayValues","cal","index","lastWeek","currentWeek","numDays","newDate","entry","counts","c","a","b","numBuckets","percentile","count","percentage","thresholds","logCount","logMax","Heatmap","_sfc_main","defineComponent","props","SQUARE_BORDER_SIZE","SQUARE_SIZE","LEFT_SECTION_WIDTH","RIGHT_SECTION_WIDTH","TOP_SECTION_HEIGHT","BOTTOM_SECTION_HEIGHT","yearWrapperTransform","svg","ref","now","heatmap","width","height","viewbox","legendViewbox","daysLabelWrapperTransform","monthsLabelWrapperTransform","legendWrapperTransform","lo","rangeColor","DAYS_IN_WEEK","rounding","tooltipUnit","tooltipFormatter","noDataText","locale","toRefs","tippyInstances","tippySingleton","initTippy","createSingleton","tooltipOptions","getWeekPosition","getDayPosition","getMonthLabelPosition","month","watch","toRef","rc","dm","w","h","l","item","nextTick","onMounted","onBeforeUnmount","initTippyLazy","e","weekIndex","dayIndex","tooltip","instance","tippy","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_14","_createElementBlock","_normalizeClass","_ctx","_createElementVNode","_openBlock","_Fragment","_renderList","_toDisplayString","_hoisted_3","_hoisted_5","_createCommentVNode","_cache","args","week","_normalizeStyle","$event","_hoisted_8","_hoisted_9","_renderSlot","color","_hoisted_15","install","Vue","CalendarHeatmap"],"mappings":"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"}